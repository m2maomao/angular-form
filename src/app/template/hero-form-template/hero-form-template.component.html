<form #heroForm="ngForm" appIdentityRevealed>
  <div class="container">
    <input id="name" name="name" class="form-control" required minlength="4" appForbiddenName="bob" [(ngModel)]="hero.name" #name="ngModel">
    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
      <div *ngIf="name.errors.required">Name is required</div>
      <div *ngIf="name.errors.minlength">Name must be at least 4 characters long.</div>
      <div *ngIf="name.errors.forbiddenName">Name cannot be Bob</div>
    </div>
  </div>
  <div *ngIf="heroForm.errors?.identityRevealed && (heroForm.touched || heroForm.dirty)" class="cross-validation-error-message alert alert-danger">
    Name cannot match alter ego.
  </div>
</form>